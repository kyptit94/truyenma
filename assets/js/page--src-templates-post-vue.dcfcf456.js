(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"1kRb":function(t,s,e){},"1lMy":function(t,s,e){"use strict";var i=e("me4z");e.n(i).a},GW5j:function(t,s,e){"use strict";var i=e("1kRb");e.n(i).a},SHZv:function(t,s,e){"use strict";e.r(s);e("yq1k"),e("B6y2"),e("JTJg");var i={data:function(){return{volumeValue:50,progressWidth:0,preview:"",previewPositon:0}},mixins:[e("AXqo").a],mounted:function(){this.progressWidth=this.$refs["progress-bar"].offsetWidth},watch:{playing:function(t){this.$emit("playing",t)},progress:function(t){this.$emit("process",t)}},computed:{percent:function(){return 100*this.progress},current:function(){var t=Math.round(this.progress*this.duration);return this.convert(t)},total:function(){var t=Math.round(this.duration);return this.convert(t)}},methods:{convert:function(t){return Math.floor(t/60)+":"+(t%60?t%60:"00")},changeVolume:function(t){this.volumeValue=t.offsetX,this.setVolume(this.volumeValue/100)},changeSeek:function(t){var s=t.offsetX;this.setSeek(s/this.progressWidth*this.duration)},showDuration:function(t){this.previewPositon=t.offsetX,this.preview=this.convert(Math.round(t.offsetX/this.progressWidth*this.duration))}}},a=(e("1lMy"),e("KHd+")),n={data:function(){return{audioSources:[],current:0,related:[],isplay:!1,nextstatus:!1}},created:function(){this.choose(0),this.related=this.otherAudio()},methods:{cdPlaying:function(t){this.isplay=t},next:function(t){if(t>.9999&&0==this.nextstatus){var s=this.otherAudio();(s=Object.values(s))[0]&&this.$router.push({path:"/redirect?url="+s[0].path})}},featureImage:function(t){return t.includes("http")?t:"../../"+t},choose:function(t){this.$page.post.source[t]&&(this.audioSources=[]),this.audioSources.push(this.$page.post.source[t].url),this.current=t},otherAudio:function(){for(var t={},s=this.$page.posts.edges.length-1,e=0;e<10;e++){var i=this.getRndInteger(0,s);if(this.$page.posts.edges[i]&&this.$page.posts.edges[i].node.id!==this.$page.post.id?t[i]=this.$page.posts.edges[i].node:delete this.$page.posts.edges[i],Object.values(t).length>5)break}return t},getRndInteger:function(t,s){return Math.floor(Math.random()*(s-t))+t}},components:{AudioPlayer:Object(a.a)(i,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("vs-row",{staticClass:"audio-cpn"},[e("vs-col",{attrs:{sm:"12"}},[e("div",{staticClass:"player"},[e("div",{ref:"progress-bar",staticClass:"progress-bar",attrs:{id:"progress-bar"},on:{mousemove:function(s){return t.showDuration(s)},click:function(s){return t.changeSeek(s)}}},[e("div",{staticClass:"running",style:"width:"+t.percent+"%"}),e("span",{staticClass:"preview",style:"left:"+t.previewPositon+"px"},[t._v(t._s(t.preview))])])])]),e("vs-col",{attrs:{sm:"12"}},[e("div",{staticClass:"audio-control"},[e("div",{staticClass:"button-control"},[e("span",{staticClass:"material-icons",on:{click:t.togglePlayback}},[t._v("\n                      "+t._s(t.playing?"pause":"play_arrow")+"\n                  ")]),e("span",{staticClass:"material-icons",on:{click:t.stop}},[t._v("\n                      stop\n                  ")]),e("span",{staticClass:"material-icons"},[t._v("\n                      volume_up\n                  ")]),e("div",{staticClass:"volum_control",on:{click:function(s){return t.changeVolume(s)}}},[e("div",{staticClass:"percent_control",style:"width:"+t.volumeValue+"px"})]),e("span",[t._v("\n                      "+t._s(t.current)+" / "+t._s(t.total)+"\n                  ")])])])])],1)],1)}),[],!1,null,null,null).exports}},o=(e("GW5j"),null),r=Object(a.a)(n,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("Layout",{attrs:{pageTitle:t.$page.post.title}},[e("section",{staticClass:"section audio-wrap"},[e("div",{staticClass:"container"},[e("div",{staticClass:"content"},[e("vs-row",[e("vs-col",{attrs:{lg:"4",sm:"12"}},[e("center",[e("div",{staticClass:"cd-container"},[e("img",{staticClass:"img-responsive",class:t.isplay?"is_play":"",attrs:{src:t.featureImage(t.$page.post.featuredImage)}}),e("div",{staticClass:"round-cd"})])]),e("audio-player",{ref:"audioPlayer",attrs:{html5:!0,sources:t.audioSources,loop:!1,autoplay:!0},on:{playing:t.cdPlaying,process:t.next}})],1),e("vs-col",{attrs:{lg:"3",sm:"12"}},[e("div",{staticClass:"article-wrap"},[e("div",{staticClass:"article"},[e("h1",[t._v(t._s(t.$page.post.title))]),e("p",[t._v("Tác giả: "+t._s(t.$page.post.author.title))]),e("p",[t._v("Giọng kể: "+t._s(t.$page.post.author.title))])]),e("ul",{staticClass:"audio-list"},t._l(t.$page.post.source,(function(s,i){return e("li",{key:i,class:i==t.current?"active":"",on:{click:function(s){return t.choose(i)}}},[e("b",[t._v(t._s(i+1)+"  ")]),e("span",[t._v(t._s(s.name))])])})),0)])]),e("vs-col",{attrs:{lg:"3",sm:"12"}},[e("div",{staticClass:"other-random"},[e("span",{staticClass:"random-list-title"},[t._v("Truyện khác")]),e("ul",{staticClass:"random-list"},t._l(t.related,(function(s,i){return e("li",{key:i},[e("vs-avatar",{attrs:{size:"40"}},[e("img",{attrs:{src:t.featureImage(s.featuredImage),alt:""}})]),e("span",{staticClass:"relate-title"},[t._v(t._s(s.title))])],1)})),0)])])],1)],1)])]),e("div",{staticClass:"fb-comment"})])}),[],!1,null,null,null);"function"==typeof o&&o(r);s.default=r.exports},me4z:function(t,s,e){}}]);